<!doctype html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head th:replace="/fragments/head">
</head>
<body>
<nav class="navbar navbar-expand-md navbar-dark bg-dark" th:replace="/fragments/nav :: nav-admin">
</nav>
<div class="container">
    <h1 th:text="'Edit ' + ${product.name}" class="display-2"></h1>
    <a href="/admin/products" class="btn btn-primary">Back to products</a>

    <div th:if="${message}" th:text="${message}" th:class="${'alert' + alertClass}"></div>
    <form method="post" th:object="${product}" th:action="@{/admin/products/edit}" enctype="multipart/form-data">
        <div class="form-group">
            <label for="">Name</label>
            <input type="text" class="form-control" th:field="*{name}" placeholder="Name">
        </div>
        <div class="form-group">
            <label for="">Description</label>
            <textarea th:field="*{description}" rows="10" class="form-control" placeholder="Description"></textarea>
        </div>
        <div class="form-group">
            <label for="">Image</label>
            <input type="file" class="form-control" th:name="file">
            <br><br>
            <label for="">Current Image:</label>
            <img style="width: 100px;" th:src="@{@'/media/' + ${product.image}}">
        </div>
        <div class="form-group">
            <label for="">Price</label>
            <input type="text" class="form-control" th:field="*{price}" placeholder="10 or 10.99">
        </div>
        <div class="form-group">
            <label for="">Category</label>
            <select th:field="*{categoryId}" class="form-control">
                <option th:value="0">Choose a category</option>
                <option th:each="cat: ${categories}" th:value="${cat.id}" th:text="${cat.name}"></option>
            </select>
        </div>
        <input type="hidden" th:field="*{id}" th:value="${product.id}">
        <button class="btn btn-danger">Edit</button>
    </form>
</div>
<footer class="container" th:replace="/fragments/footer">
</footer>
</body>
</html>
